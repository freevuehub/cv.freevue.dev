<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>프리뷰 이력서</title>

  <link rel="stylesheet" href="./css/root.css">
  <link rel="stylesheet" href="./css/font.css">
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/common.css">
  <link rel="stylesheet" href="./css/main.css">
  <link rel="icon" href="https://og.freevue.dev/api/favicon">
  
  <script src="https://kit.fontawesome.com/6d830ab441.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.1.1/es6-promise.auto.js"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

  <script src="./js/constant.js"></script>
  <script src="./js/wc.js"></script>
  <script src="./components/Name.js"></script>
  <script src="./components/Area.js"></script>
  <script src="./components/EducationItem.js"></script>
  <script src="./components/ExperienceItem.js"></script>
  <script src="./components/CareerItem.js"></script>
  <script src="./components/EducationList.js"></script>
  <script src="./components/ExperienceList.js"></script>
  <script src="./components/CareerList.js"></script>
</head>
<body>
  <div id="app">
    <div class="container flex fill height">
      <div class="wrap flex fill height width">
        <div class="relative item">
          <div class="page relative" id="page1">
            <img class="block bg fill width" src="./images/bg.png" alt="">
            <div class="content absolute flex fill width height">
              <div class="left flex dir-column">
                <div class="profile">
                  <div class="thumb flex fill width height">
                    <img class="block fill width" src="https://file.freevue.dev/cv/profile.jpg" alt="">
                  </div>
                </div>
                <my-name class="name cv-area relative">
                </my-name>
                <cv-area class="cv-area relative" title="연락처">
                  <ul class="contact flex dir-column" slot="aa">
                    <li>
                      <p class="flex ai-center">
                        <span class="icon">
                          <i class="fa-solid fa-location-dot"></i>
                        </span>
                        <span>Seoul, Republic of Korea</span>
                      </p>
                    </li>
                    <li>
                      <p class="flex ai-center">
                        <span class="icon">
                          <i class="fa-solid fa-envelope"></i>
                        </span>
                        <span>hackish113@gmail.com</span>
                      </p>
                    </li>
                  </ul>
                </cv-area>
                <cv-area class="cv-area relative" title="SNS">
                  <ul class="references flex dir-column">
										<li>
											<i class="fa-solid fa-window-maximize"></i>
											<p>
												<a href="https://freevue.dev" target="_blank">https://freevue.dev</a>
											</p>
										</li>
                    <li>
                      <i class="fa-brands fa-github"></i>
                      <p>
												<a href="https://github.com/freevuehub" target="_blank">https://github.com/freevuehub</a>
											</p>
                    </li>
                    <li>
											<i class="fa-brands fa-linkedin"></i>
											<p>
												<a href="https://www.linkedin.com/in/freevue" target="_blank">https://www.linkedin.com/in/freevue</a>
											</p>
                    </li>
                    <li>
											<i class="fa-brands fa-square-x-twitter"></i>
											<p>
												<a href="https://twitter.com/freevuehub" target="_blank">https://twitter.com/freevuehub</a>
											</p>
                    </li>
                  </ul>
                </cv-area>
              </div>
              <div class="right flex dir-column">
                <cv-area class="cv-area relative none-point"></cv-area>
                <cv-area class="cv-area relative" title="학력">
                  <cv-education-list></cv-education-list>
                </cv-area>
                <cv-area class="cv-area relative" title="경력">
                  <cv-experience-list></cv-experience-list>
                </cv-area>
                <cv-area class="cv-area relative" title="언어 및 기술">
                  <ul class="skill flex dir-column">
                    <li>
                      Javascript, Typescript, (Python)
                    </li>
                    <li>
                      Next.js, React.js
                    </li>
                    <li>
                      Nuxt.js, Vue.js
                    </li>
                    <li>
                      Deno, (Tensorflow)
                    </li>
                  </ul>
                </cv-area>
              </div>
            </div>
            <div class="page-no absolute">
              <p>Page 1</p>
            </div>
          </div>
        </div>
        <div class="relative item">
          <div class="page relative">
            <img class="block bg fill width" src="./images/bg.png" alt="">
            <cv-career-list page="0"></cv-career-list>
            <div class="page-no absolute">
              <p>Page 2</p>
            </div>
          </div>
        </div>
        <div class="relative item">
          <div class="page relative">
            <img class="block bg fill width" src="./images/bg.png" alt="">
            <cv-career-list page="1"></cv-career-list>
            <div class="page-no absolute">
              <p>Page 3</p>
            </div>
          </div>
        </div>
        <div class="relative item">
          <div class="page relative">
            <img class="block bg fill width" src="./images/bg.png" alt="">
            <cv-career-list page="2"></cv-career-list>
            <div class="page-no absolute">
              <p>Page 4</p>
            </div>
          </div>
        </div>
        <div class="relative item">
          <div class="page relative">
            <img class="block bg fill width" src="./images/bg.png" alt="">
            <cv-career-list page="3"></cv-career-list>
            <div class="page-no absolute">
              <p>Page 5</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- <button class="pdf">PDF Download</button> -->
  </div>

  <script>
    document.addEventListener('wheel', (event) => {
      document.querySelector('.container .wrap').scrollTo({
        left: document.querySelector('.container .wrap').scrollLeft - event.wheelDelta
      })
    })
    
    const page = document.querySelectorAll('.page')

    document.addEventListener('click', () => {
      page.forEach((dom) => {
        dom.classList.remove('on')
      })
    })

		document.querySelectorAll('.references a').forEach((dom) => {
			dom.addEventListener('click', (event) => {
				if (document.querySelector('#page1').classList.value.includes('on')) {
					event.stopPropagation()
				}
			})
		})

    page.forEach((dom) => {
      dom.addEventListener('click', (event) => {
        event.preventDefault()
        event.stopPropagation()
        
        page.forEach((dom) => {
          dom.classList.remove('on')
        })
        
        event.currentTarget.classList.add('on')
      })
    })

    function saveAs(uri, fileName) {
      const link = document.createElement("a");

      link.href = uri;
      link.download = fileName;

      document.body.appendChild(link);

      link.click();

      document.body.removeChild(link);
    }

    document.querySelector('.pdf')?.addEventListener('click', (event) => {
      event.preventDefault()

      html2canvas(document.querySelector(".container")).then(canvas => {
        document.querySelector("#app").appendChild(canvas)

        saveAs(canvas.toDataURL(), 'fileName.png')
      })
    })
  </script>
</body>
</html>
